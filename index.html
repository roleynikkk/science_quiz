<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ScienceQuiz - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–≥—Ä</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-layout">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>ScienceQuiz</h2>
            </div>
            <nav class="sidebar-nav">
                <button class="nav-item active" data-section="dashboard">
                    <span class="nav-icon">üìä</span>
                    –ì–ª–∞–≤–Ω–∞—è
                </button>
                <button class="nav-item" data-section="games">
                    <span class="nav-icon">üéØ</span>
                    –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä
                </button>
                <button class="nav-item" data-section="templates">
                    <span class="nav-icon">üìã</span>
                    –®–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞—á
                </button>
                <button class="nav-item" data-section="statistics">
                    <span class="nav-icon">üìà</span>
                    –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                </button>
            </nav>
        </aside>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="main-content">
            <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
            <div class="section active" id="dashboard">
                <div class="page-header">
                    <h1>ScienceQuiz - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏–≥—Ä</h1>
                    <p class="page-subtitle">–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö –∏–≥—Ä</p>
                </div>

                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-number" id="totalGames">0</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –∏–≥—Ä</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="upcomingGames">0</div>
                        <div class="stat-label">–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ –∏–≥—Ä—ã</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="completedTasks">0</div>
                        <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏</div>
                    </div>
                </div>

                <div class="upcoming-games">
                    <h2>–ë–ª–∏–∂–∞–π—à–∏–µ –∏–≥—Ä—ã</h2>
                    <div id="upcomingGamesList" class="games-preview">
                        <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –±–ª–∏–∂–∞–π—à–∏–µ –∏–≥—Ä—ã -->
                    </div>
                </div>
            </div>

            <!-- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä -->
            <div class="section" id="games">
                <div class="page-header">
                    <h1>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∏–≥—Ä</h1>
                    <button class="btn btn-primary" id="addGameBtn">
                        <span class="btn-icon">‚ûï</span>
                        –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É
                    </button>
                </div>

                <div class="filters">
                    <select id="statusFilter" class="filter-select">
                        <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                        <option value="–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è">–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è</option>
                        <option value="–í –ø—Ä–æ—Ü–µ—Å—Å–µ">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
                        <option value="–ó–∞–≤–µ—Ä—à–µ–Ω–∞">–ó–∞–≤–µ—Ä—à–µ–Ω–∞</option>
                    </select>
                    <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." class="search-input">
                </div>

                <div class="table-container">
                    <table class="games-table">
                        <thead>
                            <tr>
                                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                                <th>–î–∞—Ç–∞</th>
                                <th>–í—Ä–µ–º—è</th>
                                <th>–ú–µ—Å—Ç–æ</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                                <th>–ü—Ä–æ–≥—Ä–µ—Å—Å</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="gamesTableBody">
                            <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∏–≥—Ä—ã -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- –®–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞—á -->
            <div class="section" id="templates">
                <div class="page-header">
                    <h1>–®–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞—á</h1>
                    <p class="page-subtitle">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∑–∞–¥–∞—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –¥–ª—è –∫–∞–∂–¥–æ–π –∏–≥—Ä—ã</p>
                </div>

                <div class="template-tasks">
                    <div class="tasks-list" id="templateTasksList">
                        <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç —à–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞—á -->
                    </div>
                    <button class="btn btn-secondary" id="addTemplateTaskBtn">
                        <span class="btn-icon">‚ûï</span>
                        –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É –≤ —à–∞–±–ª–æ–Ω
                    </button>
                </div>
            </div>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <div class="section" id="statistics">
                <div class="page-header">
                    <h1>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h1>
                </div>

                <div class="stats-grid">
                    <div class="stat-card large">
                        <h3>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        <div class="stat-item">
                            <span class="stat-label">–í—Å–µ–≥–æ –∏–≥—Ä –ø—Ä–æ–≤–µ–¥–µ–Ω–æ:</span>
                            <span class="stat-value" id="totalCompletedGames">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">–ò–≥—Ä –≤ –ø–ª–∞–Ω–∞—Ö:</span>
                            <span class="stat-value" id="totalPlannedGames">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏:</span>
                            <span class="stat-value" id="overallProgress">0%</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–≥—Ä—ã -->
    <div class="modal" id="gameModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="gameModalTitle">–î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä—É</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="gameForm">
                    <div class="form-group">
                        <label for="gameName">–ù–∞–∑–≤–∞–Ω–∏–µ –∏–≥—Ä—ã*</label>
                        <input type="text" id="gameName" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="gameDate">–î–∞—Ç–∞*</label>
                            <input type="date" id="gameDate" required>
                        </div>
                        <div class="form-group">
                            <label for="gameTime">–í—Ä–µ–º—è*</label>
                            <input type="time" id="gameTime" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="gameVenue">–ú–µ—Å—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è*</label>
                        <input type="text" id="gameVenue" required>
                    </div>
                    <div class="form-group">
                        <label for="gameStatus">–°—Ç–∞—Ç—É—Å</label>
                        <select id="gameStatus">
                            <option value="–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è">–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è</option>
                            <option value="–í –ø—Ä–æ—Ü–µ—Å—Å–µ">–í –ø—Ä–æ—Ü–µ—Å—Å–µ</option>
                            <option value="–ó–∞–≤–µ—Ä—à–µ–Ω–∞">–ó–∞–≤–µ—Ä—à–µ–Ω–∞</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelGameBtn">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" form="gameForm" class="btn btn-primary" id="saveGameBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–¥–∞—á –¥–ª—è –∏–≥—Ä—ã -->
    <div class="modal" id="tasksModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2 id="tasksModalTitle">–ó–∞–¥–∞—á–∏ –¥–ª—è –∏–≥—Ä—ã</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="progress-bar-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="tasksProgress"></div>
                    </div>
                    <span class="progress-text" id="tasksProgressText">0%</span>
                </div>
                <div class="tasks-list" id="gameTasksList">
                    <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –∑–∞–¥–∞—á–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∏–≥—Ä—ã -->
                </div>
                <button class="btn btn-secondary" id="addTaskBtn">
                    <span class="btn-icon">‚ûï</span>
                    –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É
                </button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="closeTasksBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ù–û–í–û–ï: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–æ–º–∞–Ω–¥ –¥–ª—è –∏–≥—Ä—ã -->
    <div class="modal" id="teamsModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2 id="teamsModalTitle">–ö–æ–º–∞–Ω–¥—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="teams-stats">
                    <div class="stat-item">
                        <span class="stat-label">–í—Å–µ–≥–æ –∫–æ–º–∞–Ω–¥:</span>
                        <span class="stat-value" id="totalTeams">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">–í—Å–µ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:</span>
                        <span class="stat-value" id="totalParticipants">0</span>
                    </div>
                </div>

                <div class="teams-table-container">
                    <table class="teams-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã</th>
                                <th>–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤</th>
                                <th>–ö–∞–ø–∏—Ç–∞–Ω (—Å–æ—Ü. —Å–µ—Ç—å)</th>
                            </tr>
                        </thead>
                        <tbody id="teamsTableBody">
                            <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –∫–æ–º–∞–Ω–¥—ã -->
                        </tbody>
                    </table>
                </div>

                <button class="btn btn-secondary" id="addTeamBtn">
                    <span class="btn-icon">üë•</span>
                    –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É
                </button>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" id="closeTeamsBtn">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ -->
    <div class="modal" id="taskModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="taskForm">
                    <div class="form-group">
                        <label for="taskName">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏*</label>
                        <input type="text" id="taskName" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelTaskBtn">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" form="taskForm" class="btn btn-primary" id="saveTaskBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ù–û–í–û–ï: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã -->
    <div class="modal" id="teamModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="teamModalTitle">–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É</h2>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="teamForm">
                    <div class="form-group">
                        <label for="teamName">–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã*</label>
                        <input type="text" id="teamName" required placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–æ–º–∞–Ω–¥–∞ –ê–ª—å—Ñ–∞">
                    </div>
                    <div class="form-group">
                        <label for="teamMemberCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤*</label>
                        <input type="number" id="teamMemberCount" required min="1" max="20" placeholder="5">
                    </div>
                    <div class="form-group">
                        <label for="teamCaptainLink">–°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–ø–∏—Ç–∞–Ω–∞ (—Å–æ—Ü. —Å–µ—Ç—å)</label>
                        <input type="url" id="teamCaptainLink" placeholder="https://vk.com/captain –∏–ª–∏ https://t.me/captain">
                        <small class="form-hint">VK, Telegram, Instagram –∏–ª–∏ –¥—Ä—É–≥–∞—è —Å–æ—Ü. —Å–µ—Ç—å</small>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelTeamBtn">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit" form="teamForm" class="btn btn-primary" id="saveTeamBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="notification" id="notification">
        <div class="notification-content">
            <span id="notificationText"></span>
            <button class="notification-close">&times;</button>
        </div>
    </div>

    <!-- Firebase SDK —Å –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js';
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js';

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAH3wUx1u70JILfIvBS0eYCEDsZ9npS3X4",
            authDomain: "scincequiz-73bda.firebaseapp.com",
            projectId: "scincequiz-73bda",
            storageBucket: "scincequiz-73bda.firebasestorage.app",
            messagingSenderId: "440858666248",
            appId: "1:440858666248:web:422efcc7ee6f79dd7938bd"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Make db available globally
        window.db = db;
    </script>

    <script src="app.js" type="module"></script>
</body>
</html>